{"ast":null,"code":"import _classCallCheck from \"/Users/rozenmoon/Desktop/drawing_react_app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rozenmoon/Desktop/drawing_react_app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rozenmoon/Desktop/drawing_react_app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rozenmoon/Desktop/drawing_react_app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rozenmoon/Desktop/drawing_react_app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rozenmoon/Desktop/drawing_react_app/src/UI/Canvas/Canvas.js\";\nimport React, { Component } from 'react';\nimport classes from './Canvas.css'; // import { NONAME } from 'dns';\n\nvar Canvas =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Canvas, _Component);\n\n  function Canvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Canvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Canvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      mousedown: false,\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0,\n      one_state_back: null,\n      current_state: null,\n      canvas: null,\n      ctx: null\n    };\n\n    _this.MouseDown = function (e) {\n      e.persist();\n\n      var statei = _this.ctx.getImageData(0, 0, _this.canvas.width, _this.canvas.height);\n\n      _this.setState(function () {\n        return {\n          mousedown: true,\n          startX: e.clientX,\n          startY: e.clientY,\n          one_state_back: statei\n        };\n      });\n\n      _this.activationFunction();\n    };\n\n    _this.MouseMove = function (e) {\n      e.persist();\n\n      if (_this.state.mousedown) {\n        if (_this.props.Task == \"Line\" || _this.props.Task == \"Circle\") {\n          _this.clearCanvas();\n        }\n\n        _this.activationFunction();\n      }\n    };\n\n    _this.MouseUp = function (e) {\n      e.persist();\n\n      _this.setState(function () {\n        return {\n          mousedown: false,\n          endX: e.clientX,\n          endY: e.clientY\n        };\n      });\n\n      _this.activationFunction();\n    };\n\n    _this.activationFunction = function () {\n      if (_this.props.Task === \"Line\") {\n        return console.log(\"Line\");\n      } else if (_this.props.Task === \"Pencil\") {\n        return console.log(\"Pencil\");\n      } else if (_this.props.Task === \"Shape\") {\n        return console.log(\"Shape\");\n      } else if (_this.props.Task === \"Erase\") {\n        return console.log(\"Erase\");\n      }\n    };\n\n    _this.clearCanvas = function () {\n      _this.setState({\n        current_state: _this.state.one_state_back\n      });\n\n      _this.ctx.clearRect(0, 0, _this.canvas.width, _this.canvas.height);\n\n      _this.ctx.putImageData(_this.state.current_state, 0, 0);\n    };\n\n    return _this;\n  }\n\n  _createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        canvas: this.refs.canvas\n      });\n      this.setState({\n        ctx: this.state.canvas.getContext(\"2d\")\n      });\n      var statei = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n      this.setState({\n        one_state_back: statei,\n        current_state: statei\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"canvas\", {\n        ref: \"canvas\",\n        className: classes.Canvas,\n        onMouseDown: this.MouseDown,\n        onMouseMove: this.MouseMove,\n        onMouseUp: this.MouseUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Canvas;\n}(Component);\n\nexport default Canvas;","map":{"version":3,"sources":["/Users/rozenmoon/Desktop/drawing_react_app/src/UI/Canvas/Canvas.js"],"names":["React","Component","classes","Canvas","state","mousedown","startX","startY","endX","endY","one_state_back","current_state","canvas","ctx","MouseDown","e","persist","statei","getImageData","width","height","setState","clientX","clientY","activationFunction","MouseMove","props","Task","clearCanvas","MouseUp","console","log","clearRect","putImageData","refs","getContext"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport classes from './Canvas.css'\n// import { NONAME } from 'dns';\n\nclass Canvas extends Component {\n    state= {\n        mousedown: false,\n        startX: 0,\n        startY: 0,\n        endX: 0,\n        endY: 0,\n        one_state_back: null,\n        current_state: null,\n        canvas: null,\n        ctx: null\n    }\n\n    componentDidMount(){\n        this.setState({canvas : this.refs.canvas});\n        this.setState({ctx : this.state.canvas.getContext(\"2d\")});\n        const statei = this.ctx.getImageData(0,0,canvas.width,canvas.height);\n        this.setState({one_state_back: statei, current_state: statei});\n    }\n\n    MouseDown = (e) => {\n        e.persist();\n        const statei = this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);\n        this.setState(() => ({mousedown : true, startX: e.clientX, startY: e.clientY, one_state_back: statei}));\n        this.activationFunction();\n    }\n\n    MouseMove = (e) => {\n        e.persist();\n        if(this.state.mousedown)\n        {\n            if(this.props.Task == \"Line\" || this.props.Task == \"Circle\")\n            {\n                this.clearCanvas();\n            }\n            this.activationFunction();\n        }\n    }\n\n    MouseUp = (e) => {\n        e.persist();\n        this.setState(() => ({mousedown: false, endX: e.clientX, endY: e.clientY}));\n        this.activationFunction();\n    }\n\n    activationFunction = () => {\n        if(this.props.Task === \"Line\")\n        {\n            return(console.log(\"Line\"));\n        }\n        else if(this.props.Task === \"Pencil\")\n        {\n            return(console.log(\"Pencil\"));\n        }\n        else if(this.props.Task === \"Shape\")\n        {\n            return(console.log(\"Shape\"));\n        }\n        else if(this.props.Task === \"Erase\")\n        {\n            return(console.log(\"Erase\"));\n        }\n    }\n\n    clearCanvas = () => {\n        this.setState({current_state : this.state.one_state_back});\n        this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\n        this.ctx.putImageData(this.state.current_state,0,0);\t\n    }\n\n render(){\n\n    return(<canvas \n            ref = \"canvas\" \n            className= {classes.Canvas} \n            onMouseDown ={this.MouseDown} \n            onMouseMove= {this.MouseMove} \n            onMouseUp={this.MouseUp} ></canvas>);\n\n    }   \n\n}\nexport default Canvas;"]},"metadata":{},"sourceType":"module"}